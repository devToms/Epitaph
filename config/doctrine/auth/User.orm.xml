<?xml version="1.0" encoding="UTF-8"?>
<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping
                          http://doctrine-project.org/schemas/orm/doctrine-mapping.xsd">

    <!-- User Entity -->
    <entity name="App\Module\Auth\Domain\Entity\User" table="user" repository-class="App\Module\Auth\Domain\Repository\UserRepositoryInterface">
     
        <!-- Id -->
        <id name="id" type="string">
            <!-- <generator strategy="UUID" /> -->
        </id>

        <!-- Email -->
        <field name="email" type="string" length="200" unique="true" />

        <!-- Password -->
        <field name="password" type="string" length="255" />

        <!-- Name -->
        <field name="name" type="string" length="100" />

        <!-- Surname -->
        <field name="surname" type="string" length="100" />

        <!-- Roles -->
        <field name="roles" type="json" />

        <!-- Updated At -->
        <field name="updatedAt" type="datetime_immutable" nullable="false" />

        <!-- Created At -->
        <field name="createdAt" type="datetime_immutable" nullable="false" />

        <indexes>
            <index name="user_search_idx" columns="email" />
        </indexes>

        <!-- <unique-constraints>
            <unique-constraint name="unique_email">
                <column name="email" />
            </unique-constraint>
        </unique-constraints> -->

    </entity>

</doctrine-mapping>
